{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kripton/Desktop/js/hexlet-chat/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kripton/Desktop/js/hexlet-chat/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kripton/Desktop/js/hexlet-chat/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Routes,Route,Link}from'react-router-dom';import React,{useEffect,useState}from'react';import axios from'axios';import'bootstrap/dist/css/bootstrap.css';import Login from'./components/Login';import Logout from'./components/Logout';import NotFound from'./components/NotFound';import Main from'./components/Main';import{AuthProvider}from'./components/auth';import{RequireAuth}from'./components/RequireAuth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];// const dispatch = useDispatch();\nuseEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/v1/data',{headers:{Authorization:localStorage.token}});case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;console.log(data);setState(data);// dispatch(channelsActions.setChannels(channels));\n// END\ncase 6:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column h-100\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"shadow-sm navbar navbar-expand-lg navbar-light bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/\",children:\"Hexlet Chat\"}),/*#__PURE__*/_jsx(Logout,{})]})}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(Main,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})]})});}export default App;","map":{"version":3,"names":["Routes","Route","Link","React","useEffect","useState","axios","Login","Logout","NotFound","Main","AuthProvider","RequireAuth","App","state","setState","fetchData","get","headers","Authorization","localStorage","token","data","console","log"],"sources":["/Users/kripton/Desktop/js/hexlet-chat/frontend/src/App.js"],"sourcesContent":["\nimport { Routes, Route, Link } from 'react-router-dom';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Login from './components/Login';\nimport Logout from './components/Logout';\nimport NotFound from './components/NotFound';\nimport Main from './components/Main';\nimport { AuthProvider } from './components/auth';\nimport { RequireAuth } from './components/RequireAuth';\n\n\n\n\nfunction App() {\n  const [state, setState] = useState({});\n  // const dispatch = useDispatch();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const { data } = await axios.get('/api/v1/data', { headers: { Authorization: localStorage.token }});\n      console.log(data);\n      setState(data);\n      // dispatch(channelsActions.setChannels(channels));\n      // END\n    };\n    fetchData();\n  }, []);\n\n\n  return (\n    <AuthProvider>\n        <div className=\"d-flex flex-column h-100\">\n          <nav className=\"shadow-sm navbar navbar-expand-lg navbar-light bg-white\">\n              <div className=\"container\">\n                <Link className=\"navbar-brand\" to=\"/\">Hexlet Chat</Link>\n                <Logout/>\n              </div>\n          </nav>\n          <Routes>\n            <Route path=\"/\" element={<RequireAuth><Main/></RequireAuth>}></Route>\n            <Route path=\"/login\" element={<Login/>}></Route>\n            <Route path=\"*\" element={<NotFound/>}></Route>\n          </Routes>\n      </div>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"4ZACA,OAASA,MAAM,CAAEC,KAAK,CAAEC,IAAI,KAAQ,kBAAkB,CACtD,MAAOC,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAO,kCAAkC,CACzC,MAAOC,MAAK,KAAM,oBAAoB,CACtC,MAAOC,OAAM,KAAM,qBAAqB,CACxC,MAAOC,SAAQ,KAAM,uBAAuB,CAC5C,MAAOC,KAAI,KAAM,mBAAmB,CACpC,OAASC,YAAY,KAAQ,mBAAmB,CAChD,OAASC,WAAW,KAAQ,0BAA0B,CAAC,wFAKvD,QAASC,IAAG,EAAG,CACb,cAA0BR,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAA/BS,KAAK,eAAEC,QAAQ,eACtB;AAEAX,SAAS,CAAC,UAAM,CACd,GAAMY,UAAS,4FAAG,oLACOV,MAAK,CAACW,GAAG,CAAC,cAAc,CAAE,CAAEC,OAAO,CAAE,CAAEC,aAAa,CAAEC,YAAY,CAACC,KAAM,CAAC,CAAC,CAAC,uCAA3FC,IAAI,kBAAJA,IAAI,CACZC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjBP,QAAQ,CAACO,IAAI,CAAC,CACd;AACA;AAAA,qDACD,kBANKN,UAAS,0CAMd,CACDA,SAAS,EAAE,CACb,CAAC,CAAE,EAAE,CAAC,CAGN,mBACE,KAAC,YAAY,wBACT,aAAK,SAAS,CAAC,0BAA0B,wBACvC,YAAK,SAAS,CAAC,yDAAyD,uBACpE,aAAK,SAAS,CAAC,WAAW,wBACxB,KAAC,IAAI,EAAC,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,GAAG,UAAC,aAAW,EAAO,cACxD,KAAC,MAAM,IAAE,GACL,EACJ,cACN,MAAC,MAAM,yBACL,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,WAAW,wBAAC,KAAC,IAAI,IAAE,EAAe,EAAS,cACrE,KAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,cAAE,KAAC,KAAK,IAAG,EAAS,cAChD,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAG,EAAS,GACvC,GACP,EACO,CAEnB,CAEA,cAAeH,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}